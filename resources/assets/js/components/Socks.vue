<template>
    <tile :position="position" modifiers="overflow">
        <section class="socks">
            <h1># Happy Feet</h1>

            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 380.754 380.754" style="enable-background:new 0 0 380.754 380.754;" xml:space="preserve">
                <g>
                    <path style="fill:#eeeeee;" d="M329.886,218.669l-51.307-44.865V6c0-3.313-2.687-6-6-6h-100c-3.313,0-6,2.687-6,6v193.227   c0,16.156,6.976,31.521,19.138,42.155l14.053,12.288c0.006,0.006,0.012,0.011,0.018,0.016l56.374,49.296   c10.209,8.928,23.29,13.845,36.833,13.845c0.001,0,0.01,0,0.01,0c16.17-0.002,31.543-6.978,42.176-19.139   C355.506,274.442,353.131,238.995,329.886,218.669z M266.58,43.512h-88v-8.416h88V43.512z M178.58,55.512h88v8.416h-88V55.512z    M266.58,12v11.096h-88V12H266.58z M210.371,247.001c5.679-30.08-6.775-60.891-31.792-78.564V75.928h88v100.6   c0,1.73,0.747,3.377,2.051,4.517l52.455,45.869c-15.055,2.465-28.928,9.522-39.916,20.512   c-11.771,11.771-19.033,26.853-20.965,43.152L210.371,247.001z"/>
                    <path style="fill:#eeeeee;" d="M195.062,282.597l-51.307-44.865V69.928c0-3.313-2.686-6-6-6h-100c-3.313,0-6,2.687-6,6v193.225   c0,16.155,6.975,31.521,19.137,42.157l14.057,12.292c0.002,0.002,0.005,0.004,0.008,0.007l56.38,49.301   c10.21,8.928,23.293,13.845,36.842,13.845c0,0,0,0,0,0c16.169-0.002,31.542-6.978,42.176-19.139   C220.682,338.37,218.307,302.923,195.062,282.597z M131.755,107.438h-88v-8.416h88V107.438z M43.755,119.438h88v8.416h-88V119.438z    M131.755,75.928v11.094h-88V75.928H131.755z M75.548,310.929c5.677-30.081-6.775-60.893-31.793-78.566v-92.509h88v100.601   c0,1.73,0.748,3.377,2.05,4.517l52.454,45.868c-15.054,2.465-28.925,9.522-39.914,20.511   c-11.773,11.773-19.034,26.854-20.965,43.153L75.548,310.929z"/>
                </g>
            </svg>

            <span>{{ socksHandedOut }}</span>
        </section>
    </tile>
</template>

<script>
    import echo from '../mixins/echo';
    import Tile from './atoms/Tile';
    import saveState from 'vue-save-state';

    export default {
        components: {
            Tile,
        },

        mixins: [echo, saveState],

        props: ['position'],

        data() {
            return {
                socksHandedOut: 0,
            };
        },

        methods: {
            getEventHandlers() {
                return {
                    'Socks.SocksHandedOut': response => {
                        this.socksHandedOut = response.socksHandedOut;
                    },
                };
            },

            getSaveStateConfig() {
                return {
                    cacheKey: 'socks',
                };
            },
        },
    };
</script>
